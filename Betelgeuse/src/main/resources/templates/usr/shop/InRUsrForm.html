<!DOCTYPE html>
<html lang="ko" data-bs-theme="light" data-pwa="true" xmlns:th="http://www.thymeleaf.org">
  
<div th:replace="~{usr/include/LoginedHead :: LoginedHead}"></div>

  <!-- Body -->
  <body class="bg-body-tertiary">



    <!-- Page content -->
    <main class="content-wrapper"><form id="form" name="form">
    <input type="hidden" id="shopSeq" name="shop_shopSeq" th:value="${item?.shop_shopSeq}"/>
    <input type="hidden" id="bikeSeq" name="bicycle_bikeSeq" th:value="${item?.bikeSeq}"/>
    <input type="hidden" id="rsrvSeq" name="reservation_rsrvSeq" th:value="${item?.rsrvSeq}"/>
      <div class="container pt-3 pt-sm-4 pt-md-5 pb-5">
        <div class="row pt-lg-2 pt-xl-3 pb-1 pb-sm-2 pb-md-3 pb-lg-4 pb-xl-5">
          <div class="col-lg-8 col-xl-9">
            <h1 class="h2">자전거 점검,정비하기</h1>

            <section class="position-relative bg-body rounded p-4 mt-4">
              <div class="position-relative z-1 pb-md-2 px-md-2">
                <h2 class="h4 mb-3 mb-sm-4">구동계 정비,점검</h2>
                <div class="row row-cols-1 row-cols-md-2 g-3 g-md-4 mb-3 mb-md-4">
                  <div class="col pt-3">
                    <div class="row" style="margin-top: 0.5ex;">
                      <div class="col-6" style="margin-top: 1ex;">
                        <div class="input-group mb-3">
                          <span class="input-group-text">
                            브랜드
                          </span>
                          <input type="text" class="form-control" id="drivetrainBrandCd" th:value="${@codeService.selectOneCachedCode(item.drivetrainBrandCd!=null?item.drivetrainBrandCd:0)}" readonly>
                        </div>
                      </div>
                      <div class="col-6" style="margin-top: 1ex;">
                        <div class="input-group mb-3">
                          <span class="input-group-text">
                            모델명
                          </span>
                          <input type="text" class="form-control" id="drivetrainModel" th:value="${item?.drivetrainModel}" readonly>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <label for="drivetrainDate" class="form-label">구동계 점검,정비일</label>
                    <div class="position-relative">
                      <input type="date" class="form-control form-icon-end" id="drivetrainDate" name="drivetrainDate" data-datepicker placeholder="날짜를 선택해주세요">
                      <i class="fi-calendar position-absolute top-50 end-0 translate-middle-y me-3"></i>
                    </div>
                  </div>
                  <div class="col">
                    <label for="drivetrainInsCost" class="form-label">구동계 점검비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="drivetrainInsCost" name="drivetrainInsCost" style="text-align: right;" class="form-control" data-input-format='{"blocks": [3, 3, 3, 3], "delimiters": [",", ",", ",", ","]}'>
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="drivetrainRepCost" class="form-label">구동계 정비비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="drivetrainRepCost" name="drivetrainRepCost" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="drivetrainInsDesc" class="form-label fs-6 fw-semibold">점검 기술서</label>
                      <p class="fs-sm mb-2">점검 내역을 기입해주세요.</p>
                      <textarea class="form-control form-control-lg" rows="5" id="drivetrainInsDesc" name="drivetrainInsDesc" placeholder="최대 2000자" required></textarea>
                  </div>
                  <div class="col">
                    <label for="drivetrainRepDesc" class="form-label fs-6 fw-semibold">정비 기술서</label>
                      <p class="fs-sm mb-2">정비 내역을 기입해주세요.</p>
                      <textarea class="form-control form-control-lg" rows="5" id="drivetrainRepDesc" name="drivetrainRepDesc" placeholder="최대 2000자" required></textarea>
                  </div>
                </div>
              <div class="position-absolute top-0 start-0 w-100 h-100 bg-dark rounded d-none d-block-dark"></div>
            </section>
            <section class="position-relative bg-body rounded p-4 mt-4">
              <div class="position-relative z-1 pb-md-2 px-md-2">
                <h2 class="h4 mb-3 mb-sm-4">브레이크 정비,점검</h2>
                <div class="row row-cols-1 row-cols-md-2 g-3 g-md-4 mb-3 mb-md-4">
                  <div class="col pt-3">
                    <div class="row" style="margin-top: 0.5ex;">
                      <div class="col-6" style="margin-top: 1ex;">
                        <div class="input-group mb-3">
                          <span class="input-group-text">
                            브랜드
                          </span>
                          <input type="text" class="form-control" id="brakeBrandCd" th:value="${@codeService.selectOneCachedCode(item.brakeBrandCd!=null?item.brakeBrandCd:0)}" readonly>
                        </div>
                      </div>
                      <div class="col-6" style="margin-top: 1ex;">
<!--                         <div class="input-group mb-3"> -->
<!--                           <span class="input-group-text" id="addon-left"> -->
<!--                             모델명 -->
<!--                           </span> -->
<!--                           <input type="text" class="form-control" id="driveTrainModel" name="driveTrainModel" aria-label="Username" aria-describedby="addon-left"> -->
<!--                         </div> -->
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <label for="brakeDate" class="form-label">브레이크 점검,정비일</label>
                    <div class="position-relative">
                      <input type="date" class="form-control form-icon-end" id="brakeDate" name="brakeDate" data-datepicker placeholder="날짜를 선택해주세요">
                      <i class="fi-calendar position-absolute top-50 end-0 translate-middle-y me-3"></i>
                    </div>
                  </div>
                  <div class="col">
                    <label for="brakeInsCost" class="form-label">브레이크 점검비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="brakeInsCost" name="brakeInsCost" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="brakeRepCost" class="form-label">브레이크 정비비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="brakeRepCost" name="brakeRepCost" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="brakeInsDesc" class="form-label fs-6 fw-semibold">점검 기술서</label>
                      <p class="fs-sm mb-2">점검 내역을 기입해주세요.</p>
                      <textarea class="form-control form-control-lg" rows="5" id="brakeInsDesc" name="brakeInsDesc" placeholder="최대 2000자" required></textarea>
                  </div>
                  <div class="col">
                    <label for="brakeRepDesc" class="form-label fs-6 fw-semibold">정비 기술서</label>
                      <p class="fs-sm mb-2">정비 내역을 기입해주세요.</p>
                      <textarea class="form-control form-control-lg" rows="5" id="brakeRepDesc" name="brakeRepDesc" placeholder="최대 2000자" required></textarea>
                  </div>
              <div class="position-absolute top-0 start-0 w-100 h-100 bg-dark rounded d-none d-block-dark"></div>
            </section>
            <section class="position-relative bg-body rounded p-4 mt-4">
              <div class="position-relative z-1 pb-md-2 px-md-2">
                <h2 class="h4 mb-3 mb-sm-4">휠셋 정비,점검</h2>
                <div class="row row-cols-1 row-cols-md-2 g-3 g-md-4 mb-3 mb-md-4">
                  <div class="col pt-3">
                    <div class="row" style="margin-top: 0.5ex;">
                      <div class="col-6" style="margin-top: 1ex;">
                        <div class="input-group mb-3">
                          <span class="input-group-text" id="addon-left">
                            브랜드
                          </span>
                          <input type="text" class="form-control" id="wheelBrandCd" th:value="${@codeService.selectOneCachedCode(item.wheelBrandCd!=null?item.wheelBrandCd:0)}" readonly>
                        </div>
                      </div>
                      <div class="col-6" style="margin-top: 1ex;">
                        <div class="input-group mb-3">
                          <span class="input-group-text" id="addon-left">
                            모델명
                          </span>
                          <input type="text" class="form-control" id="wheelModel" th:value="${item?.wheelModel}" readonly>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <label for="wheelDate" class="form-label">휠셋 점검,정비일</label>
                    <div class="position-relative">
                      <input type="date" class="form-control form-icon-end" id="wheelDate" name="wheelDate" data-datepicker placeholder="날짜를 선택해주세요">
                      <i class="fi-calendar position-absolute top-50 end-0 translate-middle-y me-3"></i>
                    </div>
                  </div>
                  <div class="col">
                    <label for="wheelInsCost" class="form-label">휠셋 점검비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="wheelInsCost" name="wheelInsCost" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="wheelRepCost" class="form-label">휠셋 정비비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="wheelRepCost" name="wheelRepCost" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="wheelInsDesc" class="form-label fs-6 fw-semibold">점검 기술서</label>
                      <p class="fs-sm mb-2">점검 내역을 기입해주세요.</p>
                      <textarea class="form-control form-control-lg" rows="5" id="wheelInsDesc" name="wheelInsDesc" placeholder="최대 2000자" required></textarea>
                  </div>
                  <div class="col">
                    <label for="wheelRepDesc" class="form-label fs-6 fw-semibold">정비 기술서</label>
                      <p class="fs-sm mb-2">정비 내역을 기입해주세요.</p>
                      <textarea class="form-control form-control-lg" rows="5" id="wheelRepDesc" name="wheelRepDesc" placeholder="최대 2000자" required></textarea>
                  </div>
              <!-- <div class="position-absolute top-0 start-0 w-100 h-100 bg-dark rounded d-none d-block-dark"></div> -->
            </section>
            <section class="position-relative bg-body rounded p-4 mt-4">
              <div class="position-relative z-1 pb-md-2 px-md-2">
                <h2 class="h4 mb-3 mb-sm-4">콕핏 정비,점검</h2>
                <div class="row row-cols-1 row-cols-md-2 g-3 g-md-4 mb-3 mb-md-4">
                  <div class="col">
                    <label for="cockpits" class="form-label">콕핏 분야 *</label>
                    <select class="form-select" id="cockpits" name="cockpits" data-select multiple aria-label="Multiple select">
                      <option value="">Select</option>
                      <option value="핸들바">핸들바</option>
                      <option value="포크">포크</option>
                      <option value="헤드셋">헤드셋</option>
                      <option value="레버">레버</option>
                      <option value="스템">스템</option>
                      <option value="기타">기타</option>
                    </select>
                  </div>
                  <div class="col">
                    <label for="cockpitDate" class="form-label">콕핏 점검,정비일</label>
                    <div class="position-relative">
                      <input type="date" class="form-control form-icon-end" id="cockpitDate" name="cockpitDate" data-datepicker placeholder="날짜를 선택해주세요">
                      <i class="fi-calendar position-absolute top-50 end-0 translate-middle-y me-3"></i>
                    </div>
                  </div>
                  <div class="col">
                    <label for="cockpitInsCost" class="form-label">콕핏 점검비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="cockpitInsCost" name="cockpitInsCost" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="cockpitRepCost" class="form-label">콕핏 정비비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="cockpitRepCost" name="cockpitRepCost" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="cockpitInsDesc" class="form-label fs-6 fw-semibold">점검 기술서</label>
                      <p class="fs-sm mb-2">점검 내역을 기입해주세요.</p>
                      <textarea class="form-control form-control-lg" rows="5" id="cockpitInsDesc" name="cockpitInsDesc" placeholder="최대 2000자" required></textarea>
                  </div>
                  <div class="col">
                    <label for="cockpirRepDesc" class="form-label fs-6 fw-semibold">정비 기술서</label>
                      <p class="fs-sm mb-2">정비 내역을 기입해주세요.</p>
                      <textarea class="form-control form-control-lg" rows="5" id="cockpirRepDesc" name="cockpirRepDesc" placeholder="최대 2000자" required></textarea>
                  </div>
              <!-- <div class="position-absolute top-0 start-0 w-100 h-100 bg-dark rounded d-none d-block-dark"></div> -->
            </section>
            <section class="position-relative bg-body rounded p-4 mt-4">
              <div class="position-relative z-1 pb-md-2 px-md-2">
                <h2 class="h4 mb-3 mb-sm-4">기타 컴포넌트 정비,점검</h2>
                <div class="row row-cols-1 row-cols-md-2 g-3 g-md-4 mb-3 mb-md-4">
                  <div class="col">
                  	<label for="etcs" class="form-label">점검,정비 컴포넌트</label>
                    <input type="text" class="form-control" id="etcs" name="etcs" placeholder="입력해주세요">
                  </div>
                  <div class="col">
                    <label for="etcDate" class="form-label">기타 컴포넌트 점검,정비일</label>
                    <div class="position-relative">
                      <input type="date" class="form-control form-icon-end" id="etcDate" name="etcDate" data-datepicker placeholder="날짜를 선택해주세요">
                      <i class="fi-calendar position-absolute top-50 end-0 translate-middle-y me-3"></i>
                    </div>
                  </div>
                  <div class="col">
                    <label for="etcInsCost" class="form-label">기타 컴포넌트 점검비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="etcInsCost" name="etcInsCost" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="etcRepCost" class="form-label">기타 컴포넌트 정비비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="etcRepCost" name="etcRepCost" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="etcInsDesc" class="form-label fs-6 fw-semibold">점검 기술서</label>
                      <p class="fs-sm mb-2">점검 내역을 기입해주세요.</p>
                      <textarea class="form-control form-control-lg" rows="5" id="etcInsDesc" name="etcInsDesc" placeholder="최대 2000자" required></textarea>
                  </div>
                  <div class="col">
                    <label for="etcRepDesc" class="form-label fs-6 fw-semibold">정비 기술서</label>
                      <p class="fs-sm mb-2">정비 내역을 기입해주세요.</p>
                      <textarea class="form-control form-control-lg" rows="5" id="etcRepDesc" name="etcRepDesc" placeholder="최대 2000자" required></textarea>
                  </div>
              <!-- <div class="position-absolute top-0 start-0 w-100 h-100 bg-dark rounded d-none d-block-dark"></div> -->
            </section>
            <!-- Specifications -->
            <section class="position-relative bg-body rounded p-4 mt-4">
              <div class="position-relative z-1 pb-md-2 px-md-2">
                <h2 class="h4 mb-3 mb-sm-4">소모품 교체</h2>
                <div class="row row-cols-1 row-cols-md-2 g-3 g-md-4 mb-3 mb-md-4">
                  <div class="col">
                    <label for="expendables" class="form-label">소모품 *</label>
                    <select class="form-select" id="expendables" name="expendables" data-select multiple aria-label="Multiple select">
                      <option value="">Select</option>
                      <option value="타이어">타이어</option>
                      <option value="튜브">튜브</option>
                      <option value="실란트">실란트</option>
                      <option value="케이블">케이블</option>
                      <option value="바테이프">바테이프</option>
                      <option value="클릿">클릿</option>
                      <option value="기타">기타</option>
                    </select>
                  </div>
                  <div class="col">
                    <label for="expendableDate" class="form-label">소모품 교체일</label>
                    <div class="position-relative">
                      <input type="date" class="form-control form-icon-end" id="expendableDate" name="expendableDate" data-datepicker placeholder="날짜를 선택해주세요">
                      <i class="fi-calendar position-absolute top-50 end-0 translate-middle-y me-3"></i>
                    </div>
                  </div>
                  <div class="col">
                    <label for="expendableCost1" class="form-label">소모품1 교체비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="expendableCost1" name="expendableCost1" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="expendableCost2" class="form-label">소모품2 교체비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="expendableCost2" name="expendableCost2" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="expendableCost3" class="form-label">소모품3 교체비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="expendableCost3" name="expendableCost3" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="expendableCost4" class="form-label">소모품4 교체비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="expendableCost4" name="expendableCost4" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                  <div class="col">
                    <label for="expendableCost5" class="form-label">소모품5 교체비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="expendableCost5" name="expendableCost5" style="text-align: right;" class="form-control">
                      <span class="input-group-text">원</span>
                    </div>
                  </div>                  
                  <div class="col">
                    <label for="expendableCosts" class="form-label">총 소모품 교체비용</label>
                    <div class="input-group mb-3">
                      <span class="input-group-text">
                        ₩
                      </span>
                      <input type="text" id="expendableCosts" name="expendableCosts" style="text-align: right;" class="form-control" readonly>
                      <span class="input-group-text">원</span>
                    </div>
                  </div>
                </div>
                <label for="expendableDesc" class="form-label fs-6 fw-semibold">소모품 교체 기술서 *</label>
                <p class="fs-sm mb-2">소모품 교체 상세내역을 기입해주세요.</p>
                <textarea class="form-control form-control-lg" rows="5" id="expendableDesc" name="expendableDesc" placeholder="최대 2000자" required></textarea>
              </div>
              <div class="position-absolute top-0 start-0 w-100 h-100 bg-dark rounded d-none d-block-dark"></div>
            </section>

            


            <!-- Action buttons -->
            <section class="d-flex flex-column flex-sm-row justify-content-between gap-3 mt-4">
              <button type="button" id="btnSubmit" class="btn btn-lg btn-primary">
                <i class="fi-upload fs-lg ms-n1 me-2"></i>
                저장하기
              </button>
            </section>
          </div>


          <!-- Quick preview (Sidebar) -->
          <aside class="col-lg-4 col-xl-3 mt-lg-n4">
            <div class="offcanvas-lg offcanvas-end sticky-lg-top pt-lg-5" id="quickPreview">
              <div class="offcanvas-header d-lg-block py-3 p-lg-0">
                <h3 class="h6 pt-lg-5 mb-0">Quick preview</h3>
                <button type="button" class="btn-close d-lg-none" data-bs-dismiss="offcanvas" data-bs-target="#quickPreview" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body d-block pt-2 pb-lg-0">

                <!-- Preview card -->
                <article class="card hover-effect-scale border-0 mb-3">
                  <!-- <div class="card-img-top position-relative z-1 overflow-hidden">
                    <div class="d-flex flex-column gap-2 align-items-start position-absolute top-0 start-0 z-1 pt-1 pt-sm-0 ps-1 ps-sm-0 mt-2 mt-sm-3 ms-2 ms-sm-3">
                      <span class="badge text-bg-warning"></span>
                    </div>
                    <div class="ratio hover-effect-target" style="--fn-aspect-ratio: calc(204 / 306 * 100%)">
                      <img src="assets/img/add-item/bd/IMG_4871.JPG" alt="Image">
                    </div>
                  </div> -->
                  <div class="card-body position-relative z-1 px-0 px-lg-4 pb-3">
                    <div class="d-flex align-items-center justify-content-between mb-2">
                      예약: <div class="fs-xs text-body-secondary me-3" id="reservationDate" name="reservationDate" th:text="${item?.reservationDate}">2024/06/28</div>
                      점검: <div class="fs-xs text-body-secondary me-3" id="today">2024/06/28</div>
                    </div>
                    <h3 class="h4 mb-2">
                      <span th:text="${@codeService.selectOneCachedCodeEng(item.bicycleBrandCd!=null?item.bicycleBrandCd:0)}"></span>&nbsp;<span th:text="${item?.bicycleModel}"></span>
                      <span class="fs-xs fw-normal text-body-secondary" th:text="${item?.bicycleYears}"></span><h6>(<span th:text="${item?.userName}"></span>, <span th:text="${item?.userTel}"></span>)</h6>
                    </h3>
                    <p><i class="fi-search"></i><span style="font-size: medium;">점검</span>&ensp;<i class="fi-tool"></i>정비</p>
                    <table>
                      <thead>
                        <th style="width: 13ex;">분야</th>
                        <th style="width: 6ex;">여부</th>
                        <th style="width: 12ex;">비용</th>
                      </thead>
                      <tr>
                        <td id="drivetrainNy">구동계</td>
                        <td><i id="insDrivetrain" class="fi-search" style="display: none;"></i><i id="repDrivetrain" class="fi-tool" style="display: none;"></i></td>
                        <td><span id="drivetrainPrice">-</span><span>원</span></td>
                      </tr>
                      <tr>
                        <td id="brakeNy">브레이크</td>
                        <td><i id="insBrake" class="fi-search" style="display: none;"></i><i id="repBrake" class="fi-tool" style="display: none;"></i></td>
                        <td><span id="brakePrice">-</span><span>원</span></td>
                      </tr>
                      <tr>
                        <td id="wheelNy">휠셋</td>
                        <td><i id="insWheel" class="fi-search" style="display: none;"></i><i id="repWheel" class="fi-tool" style="display: none;"></i></td>
                        <td><span id="wheelPrice">-</span><span>원</span></td>
                      </tr>
                      <tr>
                        <td id="cockpitNy">콕핏</td>
                        <td><i id="insCockpit" class="fi-search" style="display: none;"></i><i id="repCockpit" class="fi-tool" style="display: none;"></i></td>
                        <td><span id="cockpitPrice">-</span><span>원</span></td>
                      </tr>
                      <tr>
                        <td id="etcNy">기타컴포넌트</td>
                        <td><i id="insEtc" class="fi-search" style="display: none;"></i><i id="repEtc" class="fi-tool" style="display: none;"></i></td>
                        <td><span id="etcPrice">-</span><span>원</span></td>
                      </tr>
                      <tr>
                        <td id="expendalbeNy">소모품교체</td>
                        <td></td>
                        <td><span id="expendalbePrice">-</span><span>원</span></td>
                      </tr>
                    </table>
                  </div>
                  <div class="card-footer position-relative z-1 bg-transparent border-0 pt-0 px-0 px-lg-4 pb-0 pb-lg-4">
                    <div class="border-top pt-3">
                      <div class="row row-cols-2 g-2 fs-lg">
                        <div class="col d-flex align-items-center gap-2">
                          총액
                        </div>
                        <div class="col d-flex align-items-center gap-2">
                          <span id="totalCost">-</span>원
                        </div>
                        <input type="hidden" id="totalPrice" name="totalPrice" />
                      </div>
                    </div>
                  </div>
                  <div class="d-none d-lg-block">
                    <div class="position-absolute top-0 start-0 w-100 h-100 bg-dark rounded d-none d-block-dark"></div>
                  </div>
                </article>
              </div>
            </div>
          </aside>
        </div>
      </div></form>
    </main>
 <div th:replace="~{usr/include/LoginedFooter :: LoginedFooter}"></div>
 <script>
  // 모든 소모품 input 필드와 총합 필드를 참조
  const costInputs = [
    document.getElementById('expendableCost1'),
    document.getElementById('expendableCost2'),
    document.getElementById('expendableCost3'),
    document.getElementById('expendableCost4'),
    document.getElementById('expendableCost5')
  ];
  const totalCostInput = document.getElementById('expendableCosts');
  const totalP = document.getElementById('expendalbePrice');

  // 입력값이 변경될 때마다 총합을 계산
  costInputs.forEach(input => {
    input.addEventListener('input', updateTotalCost);
  });

  function updateTotalCost() {
    let total = 0;
    costInputs.forEach(input => {
      const value = parseInt(input.value.replace(/[^0-9]/g, '')) || 0;
      total += value;
    });
    totalCostInput.value = total; // 쉼표 포함 포맷
    totalP.innerText = total.toLocaleString();
  }
</script>
 <script>
  // 모든 소모품 input 필드와 총합 필드를 참조
  const costInput = [
    document.getElementById('drivetrainInsCost'),
    document.getElementById('drivetrainRepCost'),
    document.getElementById('brakeInsCost'),
    document.getElementById('brakeRepCost'),
    document.getElementById('wheelInsCost'),
    document.getElementById('wheelRepCost'),
    document.getElementById('cockpitInsCost'),
    document.getElementById('cockpitRepCost'),
    document.getElementById('etcInsCost'),
    document.getElementById('etcRepCost'),
    document.getElementById('expendableCost1'),
    document.getElementById('expendableCost2'),
    document.getElementById('expendableCost3'),
    document.getElementById('expendableCost4'),
    document.getElementById('expendableCost5')
  ];
  const totalCost = document.getElementById('totalCost');

  // 입력값이 변경될 때마다 총합을 계산
  costInput.forEach(input => {
    input.addEventListener('input', updateTotalCost);
  });

  function updateTotalCost() {
    let total = 0;
    costInput.forEach(input => {
      const value = parseInt(input.value.replace(/[^0-9]/g, '')) || 0;
      total += value;
    });
    totalCost.innerText = total.toLocaleString(); // 쉼표 포함 포맷
    document.getElementById('totalPrice').value = total;
    
  }
</script>
<script>
  // 구성요소 리스트
  const components = [
    { name: 'brake', label: '브레이크' },
    { name: 'drivetrain', label: '구동계' },
    { name: 'wheel', label: '휠셋' },
    { name: 'cockpit', label: '콕핏' },
    { name: 'etc', label: '기타컴포넌트' }
  ];

  // 각 항목에 대해 동작 적용
  components.forEach(comp => {
    const insInput = document.getElementById(`${comp.name}InsCost`);
    const repInput = document.getElementById(`${comp.name}RepCost`);
    const insIcon = document.getElementById(`ins${capitalize(comp.name)}`);
    const repIcon = document.getElementById(`rep${capitalize(comp.name)}`);
    const priceField = document.getElementById(`${comp.name}Price`);

    function update() {
      const insVal = parseInt(insInput.value.replace(/[^0-9]/g, '')) || 0;
      const repVal = parseInt(repInput.value.replace(/[^0-9]/g, '')) || 0;

      // 아이콘 표시/숨김
      insIcon.style.display = insVal > 0 ? 'inline-block' : 'none';
      repIcon.style.display = repVal > 0 ? 'inline-block' : 'none';

      // 금액 표시
      const total = insVal + repVal;
      priceField.textContent = total > 0 ? total.toLocaleString() : '-';
    }

    // 이벤트 연결
    insInput.addEventListener('input', update);
    repInput.addEventListener('input', update);

    // 페이지 로드 시 초기화
    update();
  });

  // 첫 글자 대문자 변환 함수
  function capitalize(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
  }
</script>


<script type="text/javascript">
let seq = document.querySelector("input[name=rsrvSeq]");
let form = document.querySelector("form[name=form]");

document.addEventListener('DOMContentLoaded', function () {
    const todayEl = document.getElementById('today');
    const now = new Date();

    const year = now.getFullYear();
    const month = String(now.getMonth() + 1).padStart(2, '0'); // 0부터 시작하므로 +1
    const day = String(now.getDate()).padStart(2, '0');

    todayEl.textContent = `${year}-${month}-${day}`;
  });


document.getElementById("btnSubmit").onclick = function () {
	form.action = "/shop/InsRepUsrInst";
	form.submit();
}

</script>
  </body>
</html>
